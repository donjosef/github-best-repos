(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(81)},38:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),c=a.n(s),o=(a(38),a(6)),l=a(7),i=a(9),u=a(8),p=a(10),h=a(82);var m=function(e){var t=e.onClickLink,a=e.results.map(function(e){return r.a.createElement(h.a,{to:"/"+e.owner.login+"/"+e.name+"/readme",key:e.id},r.a.createElement("li",null,e.name))});return r.a.createElement("ul",{onClick:t,className:"header__list-results"},a)},g=a(11),d=a.n(g),v=a(16),f=a(17),y=a.n(f),b=a(13),w=a.n(b);function E(e){return!e.last}function k(e,t){return _.apply(this,arguments)}function _(){return(_=Object(v.a)(d.a.mark(function e(t,a){var n,r,s,c=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:1,e.next=3,y.a.get("https://api.github.com/search/repositories?q=stars:>1+language:".concat(t,"+created:>").concat(a,"&sort=stars&order=desc&per_page=40&page=").concat(n));case 3:return r=e.sent,s=E(w()(r.headers.link))?parseInt(w()(r.headers.link).prev.page,10)+1:parseInt(w()(r.headers.link).last.page,10),e.abrupt("return",{hits:r.data.items,pageCount:s});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function C(){return(C=Object(v.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.github.com/search/repositories?q=".concat(t,"+in:name+stars:>1000&per_page=10"));case 2:return a=e.sent,e.abrupt("return",{results:a.data.items});case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function j(e,t){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(d.a.mark(function e(t,a){var n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://raw.githubusercontent.com/".concat(t,"/").concat(a,"/master/README.md"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function N(e,t){return O.apply(this,arguments)}function O(){return(O=Object(v.a)(d.a.mark(function e(t,a){var n,r,s,c=arguments;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:1,e.next=3,y.a.get("https://api.github.com/repos/".concat(t,"/").concat(a,"/stargazers?per_page=40&page=").concat(n));case 3:return r=e.sent,s=E(w()(r.headers.link))?parseInt(w()(r.headers.link).prev.page,10)+1:parseInt(w()(r.headers.link).last.page,10),e.abrupt("return",{watchers:r.data,pageCount:s});case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",results:[]},a.changeQuery=function(e){a.setState({query:e.target.value})},a.removeResults=function(){a.setState({results:[],query:""})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;t.query!==this.state.query&&this.state.query&&function(e){return C.apply(this,arguments)}(this.state.query).then(function(e){a.setState({results:e.results})});t.query===this.state.query||this.state.query||this.removeResults()}},{key:"render",value:function(){return r.a.createElement("div",{className:"header__search"},r.a.createElement("input",{type:"search",placeholder:"Search readmes...",value:this.state.query,onChange:this.changeQuery}),r.a.createElement(m,{results:this.state.results,onClickLink:this.removeResults}))}}]),t}(n.Component),I=function(e){var t=e.value,a=e.optValues,n=e.onSelect,s=e.label,c=e.className,o=a.map(function(e){return r.a.createElement("option",{key:e,value:e},e)});return s?r.a.createElement("label",{className:"controls-wrapper__label"},r.a.createElement("span",null,s),r.a.createElement("select",{className:c,value:t,onChange:n},o)):r.a.createElement("select",{className:c,value:t,onChange:n},o)},q=a(12),x=a(15),L=a(14);q.b.add(L.c);var M=function(e){var t=e.name,a=e.url,n=e.avatar,s=e.stars,c=e.language,o=e.description,l=e.creationDate,i=e.updateDate,u=e.type,p=e.owner;return r.a.createElement("li",{className:"hit"},r.a.createElement("div",{className:"hit__header"},r.a.createElement("div",{className:"hit__avatar"},r.a.createElement("img",{src:n,alt:t})),r.a.createElement("h2",{className:"hit__title"},r.a.createElement("a",{href:a},t)),r.a.createElement("div",{className:"hit__language"},r.a.createElement("p",null,c)),r.a.createElement(h.a,{className:"hit__stars",to:"/"+p+"/"+t+"/starwatchers"},r.a.createElement(x.a,{icon:"star",size:"xs",color:"#FBBC05"}),r.a.createElement("p",null,s))),r.a.createElement("div",{className:"hit__body"},r.a.createElement("h3",null,u),r.a.createElement("p",null,o),r.a.createElement("p",null,"Created at: ",l.substr(0,10)),r.a.createElement("p",null,"Last update: ",i.substr(0,10))))},A=a(31),H=a.n(A);q.b.add(L.a,L.b);var V=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changePageHandler=function(e){var t=e.selected+1,n=a.props.children.props.className,r=a.props.router,s=r.history,c=r.match;"hits"===n?s.push("/page"+t):"watchers"===n&&("/"===c.url[c.url.length-1]?s.push(c.url+t):s.push(c.url+"/"+t))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props.router.location.pathname;return e="/"===t||t.endsWith("/starwatchers")?1:parseInt(t.match(/\d+/)[0],10),r.a.createElement("div",null,this.props.children,r.a.createElement(H.a,{pageCount:this.props.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:this.changePageHandler,disableInitialCallback:!0,forcePage:e-1,containerClassName:"paginate-wrapper",pageLinkClassName:"paginate-link",pageClassName:"paginate-li",previousClassName:"paginate-li",nextClassName:"paginate-li",previousLabel:r.a.createElement(x.a,{icon:"chevron-left"}),nextLabel:r.a.createElement(x.a,{icon:"chevron-right"}),activeClassName:"active-link"}))}}]),t}(n.Component),P=(a(73),function(e){return r.a.createElement("div",{className:"bar"},r.a.createElement("div",{style:{width:e.percentage+"%"},className:"bar__filler"}))}),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hits:[],pageCount:0,loading:!1,error:null,percentage:0},a.componentDidMount=function(){var e=a.props.location.pathname,t=a.props,n=t.language,r=t.date;if(a.setState({loading:!0,percentage:0}),a.interval=setInterval(function(){a.setState(function(e){return{percentage:e.percentage+10}})},100),"/"===e||"/page1"===e)k(n,r).then(function(e){clearInterval(a.interval),a.setState({hits:e.hits,pageCount:e.pageCount,percentage:100,loading:!1})}).catch(function(e){return a.setState({error:e.message})});else{k(n,r,e.match(/\d+/)[0]).then(function(e){clearInterval(a.interval),a.setState({hits:e.hits,pageCount:e.pageCount,percentage:100,loading:!1})}).catch(function(e){return a.setState({error:e.message})})}},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.location.pathname!==this.props.location.pathname||e.language!==this.props.language||e.date!==this.props.date){var n,r=this.props,s=r.language,c=r.date;n="/"===this.props.location.pathname?1:this.props.location.pathname.match(/\d+/)[0],this.setState({loading:!0,percentage:0});var o=setInterval(function(){a.setState(function(e){return{percentage:e.percentage+10}})},100);k(s,c,n).then(function(e){clearInterval(o),a.setState({hits:e.hits,percentage:100,loading:!1})}).catch(function(e){return console.log(e)})}}},{key:"render",value:function(){var e=this.state.hits.map(function(e){return e.name.includes("eeeeeee")?null:r.a.createElement(M,{key:e.id,owner:e.owner.login,name:e.name,url:e.html_url,avatar:e.owner.avatar_url,stars:e.stargazers_count,language:e.language,description:e.description,creationDate:e.created_at,updateDate:e.updated_at,type:e.owner.type})});return!this.state.loading&&this.state.percentage>=100?r.a.createElement(V,{pageCount:this.state.pageCount,router:{history:this.props.history,match:this.props.match,location:this.props.location}},r.a.createElement("ul",{className:"hits"},e)):this.state.error?r.a.createElement("h1",null,this.state.error):r.a.createElement(P,{percentage:this.state.percentage})}}]),t}(r.a.Component),U=function(e){var t=e.avatar,a=e.name,n=e.url;return r.a.createElement("li",{className:"watcher"},r.a.createElement("div",{className:"watcher__avatar"},r.a.createElement("img",{src:t,alt:a})),r.a.createElement("h3",null,r.a.createElement("a",{href:n},a)))},W=(a(75),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={watchers:[],pageCount:0,error:null},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params,a=t.owner,n=t.repo,r=this.props.location.pathname;if(r.endsWith("/starwatchers")||r.endsWith("/starwatchers/1"))N(a,n).then(function(t){e.setState({watchers:t.watchers,pageCount:t.pageCount})}).catch(function(t){return e.setState({error:t.message})});else{N(a,n,r.match(/\d+/)[0]).then(function(t){e.setState({watchers:t.watchers,pageCount:t.pageCount})}).catch(function(t){return e.setState({error:t.message})})}}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.location.pathname!==this.props.location.pathname){var n=/\d+/,r=this.props.match.params;N(r.owner,r.repo,this.props.location.pathname.match(n)?this.props.location.pathname.match(n)[0]:1).then(function(e){a.setState({watchers:e.watchers})})}}},{key:"render",value:function(){var e=this.state.watchers.map(function(e){return r.a.createElement(U,{key:e.id,avatar:e.avatar_url,name:e.login,url:e.html_url})}),t=r.a.createElement(V,{pageCount:this.state.pageCount,router:{history:this.props.history,match:this.props.match,location:this.props.location}},r.a.createElement("ul",{className:"watchers"},e));return this.state.error&&(t=r.a.createElement("h1",null,this.state.error)),t}}]),t}(n.Component)),B=function(e){var t=Date.now();return new Date(t-365*e*864e5).toISOString().substr(0,10)},T=a(77),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={markdown:""},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;j(t.owner,t.repo).then(function(t){e.setState({markdown:t})})}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(e.location.pathname!==this.props.location.pathname){var n=this.props.match.params;j(n.owner,n.repo).then(function(e){a.setState({markdown:e})})}}},{key:"render",value:function(){var e=function(e){var t=document.createElement("div");return t.innerHTML=e,t}(T(this.state.markdown));return function e(t,a){for(a(t),t=t.firstElementChild;t;)e(t,a),t=t.nextElementSibling}(e,function(e){1===e.nodeType&&(e.getAttribute("align")&&e.removeAttribute("align"),"IMG"===e.nodeName&&(e.style.display="none"))}),r.a.createElement("div",{className:"readme-page",dangerouslySetInnerHTML:{__html:e.innerHTML}})}}]),t}(n.Component),G=a(85),J=a(84),Q=(a(78),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={language:"javascript",date:"2011-01-01",dateSelectValue:"all"},a.changeLanguageHandler=function(e){a.setState({language:e.target.value})},a.changeDateHandler=function(e){a.setState({dateSelectValue:e.target.value})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(t.dateSelectValue!==this.state.dateSelectValue)switch(this.state.dateSelectValue){case"all":this.setState({date:"2011-01-01"});break;case"last 5 years":this.setState({date:B(5)});break;case"last year":this.setState({date:B(1)})}}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"controls-wrapper"},r.a.createElement(I,{className:"controls-wrapper__select",label:"Search",optValues:["all","javascript","java","python","ruby"],onSelect:this.changeLanguageHandler,value:this.state.language}),r.a.createElement(I,{className:"controls-wrapper__select",label:"for",optValues:["all","last year","last 5 years"],onSelect:this.changeDateHandler,value:this.dateSelectValue})),a=null,n=this.props.location.pathname;return(n.includes("/readme")||n.includes("/starwatchers"))&&(t=null),(n.includes("/readme")||n.includes("/starwatchers"))&&(a=r.a.createElement(h.a,{className:"header__home-link",to:"/"},"Home")),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},a,r.a.createElement("h1",{className:"header__title"},"Most popular github repos"),r.a.createElement(D,null)),t,r.a.createElement(G.a,null,r.a.createElement(J.a,{path:"/:owner/:repo/readme",component:z}),r.a.createElement(J.a,{path:"/:owner/:repo/starwatchers",component:W}),r.a.createElement(J.a,{path:"/",render:function(t){return r.a.createElement(R,Object.assign({language:e.state.language,date:e.state.date},t))}})),r.a.createElement("footer",{className:"footer"},"Made with love by ",r.a.createElement("a",{href:"https://github.com/donjosef"},"Giuseppe Montanaro")))}}]),t}(n.Component)),F=a(83);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(F.a,{basename:"/github-best-repos"},r.a.createElement(J.a,{component:Q})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.407fcb10.chunk.js.map