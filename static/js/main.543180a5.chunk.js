(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,a,t){e.exports=t(80)},39:function(e,a,t){},74:function(e,a,t){},77:function(e,a,t){},80:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(30),c=t.n(s),l=(t(39),t(6)),o=t(7),i=t(9),u=t(8),p=t(10),h=t(81);var m=function(e){var a=e.onClickLink,t=e.results.map(function(e){return r.a.createElement(h.a,{to:"/"+e.owner.login+"/"+e.name+"/readme",key:e.id},r.a.createElement("li",null,e.name))});return r.a.createElement("ul",{onClick:a,className:"header__list-results"},t)},d=t(12),g=t.n(d),v=t(19),f=t(15),y=t.n(f),E=t(20),b=t.n(E);function w(e,a){return k.apply(this,arguments)}function k(){return(k=Object(v.a)(g.a.mark(function e(a,t){var n,r,s,c=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:1,"repos"!==a){e.next=5;break}return e.next=4,y.a.get("https://api.github.com/search/repositories?q=stars:>1+language:".concat(t.language,"+created:>").concat(t.date,"&sort=stars&order=desc&per_page=40&page=").concat(n));case 4:r=e.sent;case 5:if("starwatchers"!==a){e.next=9;break}return e.next=8,y.a.get("https://api.github.com/repos/".concat(t.owner,"/").concat(t.repo,"/stargazers?per_page=40&page=").concat(n));case 8:r=e.sent;case 9:return l=b()(r.headers.link),s=l.last?parseInt(b()(r.headers.link).last.page,10):parseInt(b()(r.headers.link).prev.page,10)+1,e.abrupt("return","repos"===a?{data:r.data.items,pageCount:s}:{data:r.data,pageCount:s});case 11:case"end":return e.stop()}var l},e,this)}))).apply(this,arguments)}function _(){return(_=Object(v.a)(g.a.mark(function e(a){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://api.github.com/search/repositories?q=".concat(a,"+in:name+stars:>1000&per_page=10"));case 2:return t=e.sent,e.abrupt("return",{results:t.data.items});case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function N(e,a){return C.apply(this,arguments)}function C(){return(C=Object(v.a)(g.a.mark(function e(a,t){var n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("https://raw.githubusercontent.com/".concat(a,"/").concat(t,"/master/README.md"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var j=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={query:"",results:[]},t.changeQuery=function(e){t.setState({query:e.target.value})},t.removeResults=function(){t.setState({results:[],query:""})},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,a){var t=this;a.query!==this.state.query&&this.state.query&&function(e){return _.apply(this,arguments)}(this.state.query).then(function(e){t.setState({results:e.results})});a.query===this.state.query||this.state.query||this.removeResults()}},{key:"render",value:function(){return r.a.createElement("div",{className:"header__search"},r.a.createElement("input",{type:"search",placeholder:"Search readmes...",value:this.state.query,onChange:this.changeQuery}),r.a.createElement(m,{results:this.state.results,onClickLink:this.removeResults}))}}]),a}(n.Component),S=function(e){var a=e.value,t=e.optValues,n=e.onSelect,s=e.label,c=e.className,l=t.map(function(e){return r.a.createElement("option",{key:e,value:e},e)});return s?r.a.createElement("label",{className:"controls-wrapper__label"},r.a.createElement("span",null,s),r.a.createElement("select",{className:c,value:a,onChange:n},l)):r.a.createElement("select",{className:c,value:a,onChange:n},l)},O=t(11),D=t(14),x=t(13);O.b.add(x.c);var P=function(e){var a=e.name,t=e.url,n=e.avatar,s=e.stars,c=e.language,l=e.description,o=e.creationDate,i=e.updateDate,u=e.type,p=e.owner;return r.a.createElement("li",{className:"hit"},r.a.createElement("div",{className:"hit__header"},r.a.createElement("div",{className:"hit__avatar"},r.a.createElement("img",{src:n,alt:a})),r.a.createElement("h2",{className:"hit__title"},r.a.createElement("a",{href:t},a)),r.a.createElement("div",{className:"hit__language"},r.a.createElement("p",null,c)),r.a.createElement(h.a,{className:"hit__stars",to:"/"+p+"/"+a+"/starwatchers"},r.a.createElement(D.a,{icon:"star",size:"xs",color:"#FBBC05"}),r.a.createElement("p",null,s))),r.a.createElement("div",{className:"hit__body"},r.a.createElement("h3",null,u),r.a.createElement("p",null,l),r.a.createElement("p",null,"Created at: ",o.substr(0,10)),r.a.createElement("p",null,"Last update: ",i.substr(0,10))))};var q=function(e){return r.a.createElement("li",{className:"hit"},r.a.createElement("div",{className:"fake-hit__header"},r.a.createElement("div",{className:"fake-hit__loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"fake-title"})),r.a.createElement("div",{className:"fake-hit__body"},r.a.createElement("div",{className:"fake-type"}),r.a.createElement("div",{className:"fake-description"}),r.a.createElement("div",{className:"fake-creationDate"}),r.a.createElement("div",{className:"fake-updateDate"})))},L=t(33),A=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={data:[],loading:!0,pageCount:0,error:null},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.location.pathname;if("/"===a||"/page1"===a||a.endsWith("/starwatchers")||a.endsWith("/starwatchers/1"))w(this.props.type,this.props.searchParams).then(function(a){e.setState({data:a.data,pageCount:a.pageCount,loading:!1})}).catch(function(a){return e.setState({error:a.message,loading:!1})});else{var t=a.match(/\d+/)[0];w(this.props.type,this.props.searchParams,t).then(function(a){e.setState({data:a.data,pageCount:a.pageCount,loading:!1})}).catch(function(a){return e.setState({error:a.message,loading:!1})})}}},{key:"componentDidUpdate",value:function(e,a){var t=this;if(e.location.pathname!==this.props.location.pathname||e.searchParams.language!==this.props.searchParams.language||e.searchParams.date!==this.props.searchParams.date){var n;n="/"===this.props.location.pathname||this.props.location.pathname.endsWith("/starwatchers")?1:this.props.location.pathname.match(/\d+/)[0],this.setState(function(e){return{loading:!e.loading}}),w(this.props.type,this.props.searchParams,n).then(function(e){t.setState({data:e.data,pageCount:e.pageCount,loading:!1})}).catch(function(e){return t.setState({error:e.message})})}}},{key:"render",value:function(){return this.props.render(Object(L.a)({},this.state,{history:this.props.history,match:this.props.match,location:this.props.location}))}}]),a}(n.Component),H=t(31),M=t.n(H);O.b.add(x.a,x.b);var V=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).changePageHandler=function(e){var a=e.selected+1,n=t.props.children.props.className,r=t.props.router,s=r.history,c=r.match;"hits"===n?s.push("/page"+a):"watchers"===n&&("/"===c.url[c.url.length-1]?s.push(c.url+a):s.push(c.url+"/"+a))},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e,a=this.props.router.location.pathname;return e="/"===a||a.endsWith("/starwatchers")?1:parseInt(a.match(/\d+/)[0],10),r.a.createElement("div",null,this.props.children,r.a.createElement(M.a,{pageCount:this.props.pageCount,pageRangeDisplayed:3,marginPagesDisplayed:2,onPageChange:this.changePageHandler,disableInitialCallback:!0,forcePage:e-1,containerClassName:"paginate-wrapper",pageLinkClassName:"paginate-link",pageClassName:"paginate-li",previousClassName:"paginate-li",nextClassName:"paginate-li",previousLabel:r.a.createElement(D.a,{icon:"chevron-left"}),nextLabel:r.a.createElement(D.a,{icon:"chevron-right"}),activeClassName:"active-link"}))}}]),a}(n.Component);function I(e){var a;return a=e.loading?Array(40).fill(null).map(function(e,a){return r.a.createElement(q,{key:"hit"+a})}):e.data.map(function(e){return e.name.includes("eeeeeee")?null:r.a.createElement(P,{key:e.id,owner:e.owner.login,name:e.name,url:e.html_url,avatar:e.owner.avatar_url,stars:e.stargazers_count,language:e.language,description:e.description,creationDate:e.created_at,updateDate:e.updated_at,type:e.owner.type})}),r.a.createElement(V,{pageCount:e.pageCount,router:{history:e.history,match:e.match,location:e.location}},e.error&&r.a.createElement("h1",null,e.error),r.a.createElement("ul",{className:"hits"},a))}var W=function(e){var a=e.history,t=e.match,n=e.location,s=e.language,c=e.date;return r.a.createElement(A,{type:"repos",location:n,history:a,match:t,searchParams:{language:s,date:c},render:I})},R=function(e){var a=e.avatar,t=e.name,n=e.url;return r.a.createElement("li",{className:"watcher"},r.a.createElement("div",{className:"watcher__avatar"},r.a.createElement("img",{src:a,alt:t})),r.a.createElement("h3",null,r.a.createElement("a",{href:n},t)))};t(74);function T(e){var a=e.data.map(function(e){return r.a.createElement(R,{key:e.id,avatar:e.avatar_url,name:e.login,url:e.html_url})});return r.a.createElement(V,{pageCount:e.pageCount,router:{history:e.history,match:e.match,location:e.location}},e.error&&r.a.createElement("h1",{style:{paddingTop:170}},e.error),r.a.createElement("ul",{className:"watchers"},a))}var B=function(e){var a=e.history,t=e.match,n=e.location;return r.a.createElement(A,{type:"starwatchers",location:n,history:a,match:t,searchParams:{owner:t.params.owner,repo:t.params.repo},render:T})},U=function(e){var a=Date.now();return new Date(a-365*e*864e5).toISOString().substr(0,10)},z=t(76),G=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={markdown:""},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params;N(a.owner,a.repo).then(function(a){e.setState({markdown:a})})}},{key:"componentDidUpdate",value:function(e,a){var t=this;if(e.location.pathname!==this.props.location.pathname){var n=this.props.match.params;N(n.owner,n.repo).then(function(e){t.setState({markdown:e})})}}},{key:"render",value:function(){var e=function(e){var a=document.createElement("div");return a.innerHTML=e,a}(z(this.state.markdown));return function e(a,t){for(t(a),a=a.firstElementChild;a;)e(a,t),a=a.nextElementSibling}(e,function(e){1===e.nodeType&&(e.getAttribute("align")&&e.removeAttribute("align"),"IMG"===e.nodeName&&(e.style.display="none"))}),r.a.createElement("div",{className:"readme-page",dangerouslySetInnerHTML:{__html:e.innerHTML}})}}]),a}(n.Component),J=t(84),Q=t(83),F=(t(77),function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(i.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={language:"javascript",date:"2011-01-01",dateSelectValue:"all"},t.changeLanguageHandler=function(e){t.setState({language:e.target.value})},t.changeDateHandler=function(e){t.setState({dateSelectValue:e.target.value})},t}return Object(p.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,a){if(a.dateSelectValue!==this.state.dateSelectValue)switch(this.state.dateSelectValue){case"all":this.setState({date:"2011-01-01"});break;case"last 5 years":this.setState({date:U(5)});break;case"last year":this.setState({date:U(1)})}}},{key:"render",value:function(){var e=this,a=r.a.createElement("div",{className:"controls-wrapper"},r.a.createElement(S,{className:"controls-wrapper__select",label:"Search",optValues:["all","javascript","java","python","ruby"],onSelect:this.changeLanguageHandler,value:this.state.language}),r.a.createElement(S,{className:"controls-wrapper__select",label:"for",optValues:["all","last year","last 5 years"],onSelect:this.changeDateHandler,value:this.dateSelectValue})),t=null,n=this.props.location.pathname;return(n.includes("/readme")||n.includes("/starwatchers"))&&(a=null),(n.includes("/readme")||n.includes("/starwatchers"))&&(t=r.a.createElement(h.a,{className:"header__home-link",to:"/"},"Home")),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},t,r.a.createElement("h1",{className:"header__title"},"Most popular github repos"),r.a.createElement(j,null)),a,r.a.createElement(J.a,null,r.a.createElement(Q.a,{path:"/:owner/:repo/readme",component:G}),r.a.createElement(Q.a,{path:"/:owner/:repo/starwatchers",component:B}),r.a.createElement(Q.a,{path:"/",render:function(a){return r.a.createElement(W,Object.assign({language:e.state.language,date:e.state.date},a))}})),r.a.createElement("footer",{className:"footer"},"Made with love by ",r.a.createElement("a",{href:"https://github.com/donjosef"},"Giuseppe Montanaro")))}}]),a}(n.Component)),$=t(82);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement($.a,{basename:"/github-best-repos"},r.a.createElement(Q.a,{component:F})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,2,1]]]);
//# sourceMappingURL=main.543180a5.chunk.js.map